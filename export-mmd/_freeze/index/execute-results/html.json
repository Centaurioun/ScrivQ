{
  "hash": "41043e639b13e97663c172496a32e063",
  "result": {
    "markdown": "# ScrivQ {#sec-scriv1}\n\n\n[]{#scriv1}\n\nThe **ScrivQ** template, by [Bernardo Vasconcelos](https://github.com/sponsors/bcdavasconcelos), programs the Scrivener writing environment -- **Compile Formats**, **Section Layouts**, **Section Types**, **Paragraph Styles**, **Character Styles**, text templates with raw markup, and even the icons -- for publishing **Quarto Books** (PDF, DOCX, and HTML) using **zero configuration** and **one-click compilation**. It descends from Ian's excellent [Quarto template for Scrivener](forum.literatureandlatte.com/t/scrivener-quarto-a-technical-academic-publishing-workflow/129769), and it makes use of a modified version of its original ruby script to perform additional tasks, such as repositioning parts of the markup (cross-references, footnotes), *optionally* adding and committing using the text from Git Commit, and splitting the text into the multiple files needed for a Quarto project -- such as the lua filters (_extensions), the project metadata (_quarto), and the bibliographies (*i.e.* Primary Sources, Secondary Sources, Workflow) (if they already exist in the system, they are overwritten; other files are not modified). If both **Scrivener** and **Quarto** are installed, it should be able to compile straight away. If it doesn't, [let me know](https://github.com/bcdavasconcelos/scrivq/issues/new/choose) or come join the discussion at [the Scrivener user forum](forum.literatureandlatte.com/t/134755). \n\n# Front matter {#sec-scriv2}\n\n\n[]{#scriv2}\n\nA notable feature of the template is the front matter. Instead of using a single binder item for all, we are using one for each YAML parameter, with the idea of having them ready to be added or removed by simply ticking a box. [Most options include a bookmarks linking to the relevant section in the official Quarto documentation and a small synopsis. ]{.aside}We use this strategy to control a high number of variables, such as the labels involved in cross-referencing ([@fig-scriv2A]). Other complex tasks can also be managed, and are demonstrated here as a proof-of-concept, such as keeping a bibliography in CSL-YAML ([@fig-scriv2B]) or controlling the behavior of Quarto websites. \n\n\n![Instead of using the `Title`, the YAML key-value pair is usually formed by item's `<\\$custom:ID>`, and `<\\$custom:Value>` or  `Text` to allow the of more descriptive titles. The new front matter also makes it a breeze to edit parameters without disturbing YAML's sensitive white space rules, and it makes it much easier to revert to a working configuration after introducing accidental errors.](crossref.png){#fig-scriv2A width=500 height=419}\n\n\n![This demonstrates how to keep, entirely within Scrivener, a bibliography in CSL-YAML, the format favored by Pandoc and Quarto (being +10x faster to process than BibTeX and RIS). You can find this sample in the templates folder.](cslyaml.png){#fig-scriv2B width=352 height=600}\n\n\n:::{.callout-note}\n## A sworn of parameters\nMany parameters are included for completeness and could be erased if they are not in use. Should they become necessary, they can be retrieved again from a newly created project.\n:::\n\n\nLooking for one way to control **Quarto** from **Scrivener**, we find not *one*, but *many* ways of doing so. So much that we are reminded of Socrates addressing Meno, in the homonymous dialogue, saying that, in looking for *the* virtue of human excellence, he had found a sworn of them coming from his interlocutor.\n\n> ΣΩ. Πολλῇ γέ τινι εὐτυχίᾳ ἔοικα κεχρῆσθαι, ὦ Μένων, εἰ μίαν ζητῶν ἀρετὴν σμῆνός τι ἀνηύρηκα ἀρετῶν παρὰ σοὶ κειμένων (@Men 72A-B). \"*I seem to be in good luck, Meno; for in seeking one virtue I have discovered a whole swarm of virtues there in your keeping.*\"  \n\n\n:::{.callout-caution}\n## Binder glitches\nIn some cases, the sheer number of items can cause the **Binder** to behave in strange ways. If you notice any glitches, collapse and expand the parent item for the children to be properly displayed. Removing unused parameters should alleviate the problem. \n:::\n\n\nApart from one-click compilation, and facilitated parameter settings, two priorities in **ScrivQ** are cross-referencing ([@sec-scriv3]) and bibliography ([@sec-scriv42]).\n\n# Cross-referencing {#sec-scriv3}\n\n\n[]{#scriv3}\n\nWith all the affordances of **Scrivener** and **Quarto**, cross-referencing is not a trivial matter, [as the options are many]{.underline}. \n\n[Automatic IDs ]{.aside}First, bear in  mind that  **Section Types** and **Paragraph Styles** (preceded by the relevant prefix, such as *sec*, *cnj*, *cor*, *def*, *exm*, *exr*, *lem*, *prp*, *thm*, *eq*, *lst*, *fig*, *tbl*) are rigged with automatic IDs in the format `scriv<\\$linkID>`^[Note that in Scrivener we have to escape the `$`, otherwise the placeholder will get expanded into its correct value during compilation.]. This way, there is no need to choose an ID each time an element is created, nor to remember any when another needs to be referenced (to create links we will use this same standard identifier, `scriv<\\$linkID>`, select the text, link to the appropriate document, and apply the style corresponding to the element we want to reference). We leave it to Scrivener to figure out the value of the `<\\$linkID>` placeholder.\n\n\n:::{.callout-note}\n## Translating Quarto into Scrivener\n\nIn **ScrivQ** we can use **Section Types** or **Paragraph Styles** to create **Sections**, **Tables**, **Equations**, **Figures**, **Listings**, **Callouts** (Caution, Important, Note, Tip, Warning), and **Amsthm** environments (Conjecture, Corollary, Definition, Example, Exercise, Lemma, Proposition, Theorem). We can also use **Character Styles** to easily reference any of them. Keep reading to learn how.\n:::\n\n\n:::{.callout-tip}\n## Choosing your own label for automatic links\n\nIn **ScrivQ** one can use different keywords as labels for automatic links. Simply use one of the provided rules for **Replacements** ([@fig-scriv3]) in the Compile settings (or in the Format configurations) to have keywords such as `scriv` + `link`, `autο` + `ref`, `%autο` + `ref%`, `%autοref:` + `something-random-that-will-be-erased%`, `[autοref]`, converted into `scriv<\\$linkID>` during compilation.\n:::\n\n\n![**Replacements** pane in the **Compile...** configurations can be used to allow different labels for automatic links. This is purely optional and we recommend limiting this to one rule or two.](Replacements.png){#fig-scriv3 width=413 height=229}\n\n\n[Add prefix and markup using Character Styles ]{.aside}To cross-reference a `table`, an `example`, or a `theorem`, one could use `tbl-keyword` (*i.e.* `tbl-scriv<\\$linkID>`), `exm-keyword` (*i.e.* `exm-scriv<\\$linkID>`), and `thm-keyword` (*i.e.* `thm-scriv<\\$linkID>`), respectively. Seeing that the prefixes are not always easy to remember, **Character Styles** are available to inject the correct markup. \n\nThe `Crossref` `Table`, for example, will turn the `keyword` into `[@tbl-keyword]`^[That is, `[@tbl-scriv<\\$linkID>]`.]`;` and the `Crossref Table\\*` style will turn it into `[@tbl-keyword]`^[That is, `[-@tbl-scriv<\\$linkID>]`.]. [The asterisk (`*`) in the title of Character Styles indicates the suppression of part of the data (as is common in LaTeX).]{.aside} Likewise, the `Crossref Example` and the `Crossref Example\\*` which will result in `[@exm-keyword]` and `[-@exm-keyword] `^[That is, `[@exm-scriv<\\$linkID>]` and `[-@exm-scriv<\\$linkID>]`.], and so on. See *scriv4* below for yet more examples.\n\n\n:::{.callout-tip}\n# Cross-referencing a table\n\n1. `Type` `your-keyword-of-choice` or `scriv<\\$linkID>`, `select` it, and hit `Command + L`;\n2. `Link` to the document that contains the table. (*e.g***.** scriv13);\n3. Apply a **Character Style** called `Crossref Table` (*e.g.* [@tbl-scriv13]).\n:::\n\n\nBelow we will see several examples of the same strategy being applied to several different elements. I hope that these examples prove as instructive to consult as they were to prepare.\n\n## Amsthm {#sec-scriv4}\n\n\n[]{#scriv4}\n\nIn this section, we are demonstrating the cross-referencing mechanism working with **Amsthm** theorems. First, we will see all of the theorems created using **Paragraph Styles**, then they will be introduced again as **Section Types**. In the table below, you'll see several Character Styles (labeled as `Crossref...`) used to reference both.\n\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| Conjecture | `[@cnj-scriv4]` | [@cnj-scriv4] |\n| Conjecture | `[@cnj-scriv5]` | [@cnj-scriv5 ] |\n| Corollary | `[@cor-scriv4]` | [@cor-scriv4] |\n| Corollary | `[@cor-scriv6]` | [@cor-scriv6] |\n| Definition | `[@def-scriv4]` | [@def-scriv4] |\n| Definition | `[@def-scriv7]` | [@def-scriv7] |\n| Example | `[@exm-scriv4]` | [@exm-scriv4] |\n| Example | `[@exm-scriv8]` | [@exm-scriv8] |\n| Exercise | `[@exr-scriv4]` | [@exr-scriv4] |\n| Exercise | `[@exr-scriv9]` | [@exr-scriv9] |\n| Lemma | `[@lem-scriv4]` | [@lem-scriv4] |\n| Lemma | `[@lem-scriv10]` | [@lem-scriv10] |\n| Proposition | `[@prp-scriv4]` | [@prp-scriv4] |\n| Proposition | `[@prp-scriv11]` | [@prp-scriv11] |\n| Theorem | `[@thm-scriv4]` | [@thm-scriv4] |\n| Theorem | `[@thm-scriv12]` | [@thm-scriv12] |\n\n**Paragraph Styles**\n\n\n::: {#cnj-scriv4}\nConjecture\n:::\n\n\n::: {#cor-scriv4}\nCorollary\n:::\n\n\n::: {#def-scriv4}\nDefinition\n:::\n\n\n::: {#exm-scriv4}\nExample\n:::\n\n\n::: {#exr-scriv4}\nExercise\n:::\n\n\n::: {#lem-scriv4}\nLemma\n:::\n\n\n::: {#prp-scriv4}\nProposition\n:::\n\n\n::: {#thm-scriv4}\nLet \\(f\\) be a function whose derivative exists in every point, then \\(f\\) is a continuous function.\n\\end{theorem}\n\n\\begin{theorem}[Pythagorean theorem]\n\\label{pythagorean}\nThis is a theorem about right triangles and can be summarised in the next \nequation \n\\[ x^2 + y^2 = z^2 \\]\n\\end{theorem}\n\nAnd a consequence of theorem \\ref{pythagorean} is the statement in the next \ncorollary.\n\n\\begin{corollary}\nThere's no right rectangle whose sides measure 3cm, 4cm, and 6cm.\n\\end{corollary}\n\nYou can reference theorems such as \\ref{pythagorean} when a label is assigned.\n\n\\begin{lemma}\nGiven two line segments whose lengths are \\(a\\) and \\(b\\) respectively there is a \nreal number \\(r\\) such that \\(b=ra\\).\n\\end{lemma}\n:::\n\n::: {#cnj-scriv4}\nConjecture\n:::\n\n\n::: {#cor-scriv4}\nCorollary\n:::\n\n\n::: {#def-scriv4}\nDefinition\n:::\n\n\n::: {#exm-scriv4}\nExample\n:::\n\n\n::: {#exr-scriv4}\nExercise\n:::\n\n\n::: {#lem-scriv4}\nLemma\n:::\n\n\n::: {#prp-scriv4}\nProposition\n:::\n\n\n::: {#thm-scriv4}\nTheorem\n:::\n\n**Section Types**\n\n  \n:::{#cnj-scriv5  }\nConjecture\n:::\n  \n:::{#cor-scriv6  }\nCorollary\n:::\n  \n:::{#def-scriv7  }\nDefinition\n:::\n  \n:::{#exm-scriv8  }\nExample\n:::\n  \n:::{#exr-scriv9  }\nExercise\n:::\n  \n:::{#lem-scriv10 }\nLemma\n:::\n  \n:::{#prp-scriv11  }\nProposition\n:::\n  \n:::{#thm-scriv12  }\nTheorem\n:::\n\n## Block Elements {#sec-scriv13}\n\n\n[]{#scriv13}\n\nNow we repeat the same approach we saw with the **Amsthm** theorems with other **Quarto** and **Pandoc** block elements, such as computations (diagrams), equations, listings, figures, and tables. This time, apart from **Paragraph Styles** and **Section Types**, we will also use `Raw Markdown` to accomplish the same tasks. As before, all of these elements receive automatic IDs.\n\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| Diagram | `[@fig-scriv16]` | [@fig-scriv16] |\n| Diagram | `[@fig-scriv16B]` | [@fig-scriv16B] |\n| Diagram | `[@fig-scriv17]` | [@fig-scriv17] |\n| Diagram | `[@fig-scriv18]` | [@fig-scriv18] |\n| Diagram | `[@fig-scriv18B]` | [@fig-scriv18B] |\n| Diagram | `[@fig-scriv19]` | [@fig-scriv19] |\n| Equation | `[@eq-scriv21]` | [@eq-scriv21] |\n| Equation | `[@eq-scriv22]` | [@eq-scriv22] |\n| Figure | `[@fig-scriv24]` | [@fig-scriv24] |\n| Figure (Multipart) | `[@fig-scriv25]` | [@fig-scriv25] |\n| Figure (Multipart) | `[@fig-scriv25A]` | [@fig-scriv25A] |\n| Figure (Multipart) | `[@fig-scriv25B]` | [@fig-scriv25B] |\n| Figure (Multipart) | `[@fig-scriv26]` | [@fig-scriv26] |\n| Figure (Multipart) | `[@fig-scriv26A]` | [@fig-scriv26A] |\n| Figure (Multipart) | `[@fig-scriv26B]` | [@fig-scriv26B] |\n| Listing | `[@lst-scriv28]` | [@lst-scriv28] |\n| Listing | `[@lst-scriv29]` | [@lst-scriv29] |\n| Table | `[@tbl-scriv31]` | [@tbl-scriv31] |\n| Table | `[@tbl-scriv32]` | [@tbl-scriv32] |\n| Table (Multipart) | `[@tbl-scriv33]` | [@tbl-scriv33] |\n| Table (Multipart) | `[@tbl-scriv33A]` | [@tbl-scriv33A] |\n| Table (Multipart) | `[@tbl-scriv33B]` | [@tbl-scriv33B] |\n\n: Cross-referencing diagrams, figures, listings and tables. {#tbl-scriv13}\n\n\n### Computations {#sec-scriv14}\n\n\n[]{#scriv14}\n\nTo use computations, there might be additional steps involved, such as installing R along with additional packages.\n\ninstall.packages(\"reticulate\")\ninstall.packages(\"markdown\")\ninstall.packages(\"tidyverse\")\ninstall.packages(\"kableExtra\")\ndownlit, xml2\n\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| R Computation | `[@fig-scriv?]` | [@fig-scriv?] |\n| R Computation | `[@fig-scriv?]` | [@fig-scriv?] |\n| Python Computation | `[@fig-scriv?]` | [@fig-scriv?] |\n| Python Computation | `[@fig-scriv?]` | [@fig-scriv?] |\n\n: Cross-referencing **R Computations** and **Python Computations**. {#tbl-scriv14}\n\n\n### Diagrams {#sec-scriv15}\n\n\n[]{#scriv15}\n\nLet us see how we can use **raw markup**, **Section Types**, and **Paragraph Styles** to create **Dot** and **Mermaid** diagrams.\n\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| Diagram Dot | `[@fig-scriv16]` | [@fig-scriv16] |\n| Diagram Dot | `[@fig-scriv16B]` | [@fig-scriv16B] |\n| Diagram Dot | `[@fig-scriv17]` | [@fig-scriv17] |\n| Diagram Mermaid | `[@fig-scriv18]` | [@fig-scriv18] |\n| Diagram Mermaid | `[@fig-scriv18B]` | [@fig-scriv18B] |\n| Diagram Mermaid | `[@fig-scriv19]` | [@fig-scriv19] |\n\n: Cross-referencing **Dot Diagrams** and **Mermaid Diagrams**. {#tbl-scriv15}  \n\n\n```{dot}\n//| label: fig-scriv16\n//| fig-cap: Figure caption\n\ndigraph finite_state_machine {\n\tFontname=\"Avenir,Helvetica,sans-serif\"\n\tnode [fontname=\"Avenir,Helvetica,sans-serif\"]\n\tedge [fontname=\"Avenir,Helvetica,sans-serif\"]\n\trankdir=LR;\n\tnode [shape = doublecircle]; 0 3 4 8;\n\tnode [shape = circle];\n\t0 -> 2 [label = \"SS(B)\"];\n\t0 -> 1 [label = \"SS(S)\"];\n\t1 -> 3 [label = \"S($end)\"];\n\t2 -> 6 [label = \"SS(b)\"];\n\t2 -> 5 [label = \"SS(a)\"];\n\t2 -> 4 [label = \"S(A)\"];\n\t5 -> 7 [label = \"S(b)\"];\n\t5 -> 5 [label = \"S(a)\"];\n\t6 -> 6 [label = \"S(b)\"];\n\t6 -> 5 [label = \"S(a)\"];\n\t7 -> 8 [label = \"S(b)\"];\n\t7 -> 5 [label = \"S(a)\"];\n\t8 -> 6 [label = \"S(b)\"];\n\t8 -> 5 [label = \"S(a)\"];\n}\n```\n\n```{dot}\n//| label: fig-scriv16B\n//| fig-cap: Figure caption\n\ndigraph finite_state_machine {\n\tFontname=\"Avenir,Helvetica,sans-serif\"\n\tnode [fontname=\"Avenir,Helvetica,sans-serif\"]\n\tedge [fontname=\"Avenir,Helvetica,sans-serif\"]\n\trankdir=LR;\n\tnode [shape = doublecircle]; 0 3 4 8;\n\tnode [shape = circle];\n\t0 -> 2 [label = \"SS(B)\"];\n\t0 -> 1 [label = \"SS(S)\"];\n\t1 -> 3 [label = \"S($end)\"];\n\t2 -> 6 [label = \"SS(b)\"];\n\t2 -> 5 [label = \"SS(a)\"];\n\t2 -> 4 [label = \"S(A)\"];\n\t5 -> 7 [label = \"S(b)\"];\n\t5 -> 5 [label = \"S(a)\"];\n\t6 -> 6 [label = \"S(b)\"];\n\t6 -> 5 [label = \"S(a)\"];\n\t7 -> 8 [label = \"S(b)\"];\n\t7 -> 5 [label = \"S(a)\"];\n\t8 -> 6 [label = \"S(b)\"];\n\t8 -> 5 [label = \"S(a)\"];\n}\n\n```\n\n```{dot}\n//| label: fig-scriv17\n\n//| fig-caption: A Graphviz-generated state machine diagram\ndigraph finite_state_machine {\n\tFontname=\"Avenir,Helvetica,sans-serif\"\n\tnode [fontname=\"Avenir,Helvetica,sans-serif\"]\n\tedge [fontname=\"Avenir,Helvetica,sans-serif\"]\n\trankdir=LR;\n\tnode [shape = doublecircle]; 0 3 4 8;\n\tnode [shape = circle];\n\t0 -> 2 [label = \"SS(B)\"];\n\t0 -> 1 [label = \"SS(S)\"];\n\t1 -> 3 [label = \"S($end)\"];\n\t2 -> 6 [label = \"SS(b)\"];\n\t2 -> 5 [label = \"SS(a)\"];\n\t2 -> 4 [label = \"S(A)\"];\n\t5 -> 7 [label = \"S(b)\"];\n\t5 -> 5 [label = \"S(a)\"];\n\t6 -> 6 [label = \"S(b)\"];\n\t6 -> 5 [label = \"S(a)\"];\n\t7 -> 8 [label = \"S(b)\"];\n\t7 -> 5 [label = \"S(a)\"];\n\t8 -> 6 [label = \"S(b)\"];\n\t8 -> 5 [label = \"S(a)\"];\n}\n\n```\n\n```{mermaid}\n%%| label: fig-scriv18\n%%| fig-cap: Figure caption\n%%| column: page\n\n\ngraph TD\n\n  Pred(Predication)\n  PredicationLatoSensu(Lato Sensu)\n  PredicationStrictoSensu(Stricto Sensu)\n\n  Pred ---> PredicationLatoSensu\n  Pred ---> PredicationStrictoSensu\n\n  Opt1(\"The predicate is the essence (τὸ τι ἦν εἶναι)\")\n  %% e.g. the human being is a racional animal\n  Opt2(\"The not-natural predicate (παρὰ φύσιν)\")\n  %% e.g. the musical is white\n\n\n  PredicationLatoSensu -- τὸ αὐτῷ εἶναι κατηγορεῖσθαι --> Opt1\n  PredicationLatoSensu -- κατὰ συμβεβηκὸς κατηγορεῖσθαι --> Opt2\n\n  Opt3(\"Predicate is an accident\")\n  Opt4(\"Predicate is part of the definition of the subject\")\n\n  PredicationStrictoSensu -- ὡς συμβεβηκότα κατηγορεῖσθαι --> Opt3\n  PredicationStrictoSensu -- τό ἐν τῷ τί ἐστι --> Opt4\n\n  SubOpt1(\"Attributes proper (καθ᾽ αὑτὸ ἴδιον)\")\n  SubOpt2(\"Accidents proper (συμβεβηκός καθ᾽ αὑτὸ)\")\n  SubOpt3(\"Accidents without qualification (ἁπλῶς συμβεβηκός)\")\n\n  Opt3 --> SubOpt1\n  Opt3 -- \"per se₂\" --> SubOpt2\n  Opt3 --> SubOpt3\n\n  SubOpt4(\"Genus (γένος)\")\n  SubOpt5(\"Especies (εἶδος)\")\n\n  Opt4 -- \"per se₁\" --> SubOpt4\n  Opt4 -- \"per se₁\" --> SubOpt5\n```\n\n```{mermaid}\n%%| label: fig-scriv18B\n%%| fig-cap: Figure caption\n\nflowchart LR\n  A[Hard edge] --> B(Round edge)\n  B --> C{Decision}\n  C --> D[Result one]\n  C --> E[Result two]\n\n```\n\n```{mermaid}\n%%| label: fig-scriv19\n\n%%| fig-cap: A Mermaid figure using a Scrivener Section Type [Diagram Mermaid], see https://quarto.org/docs/authoring/diagrams.html for more details\n\ngraph TD\n    Subs -->Mat:::I\n    Subs -->|τόδε τι|For:::D\n    Subs -->|τόδε τι|Com:::D2\n    Mat --> Pot:::I\n    For --> Ent:::D\n    Ent --> Ent1:::D\n    Ent --> Ent2:::D\n\n    Subs(οὐσία)\n    Mat(ὕλη)\n    Pot(δύναμις)\n    For(μορφὴ καὶ εἶδος)\n    Ent(ἐντελέχεια)\n    Ent1(\"1:ὡς ἐπιστήμη\")\n    Ent2(\"2:ὡς θεωρεῖν\")\n    Com(τὸ ἐκ τούτων)\n\n    Subs(Substance)\n    Mat(Matter)\n    Pot(Potency)\n    For(Form)\n    Ent(Actuality)\n    Ent1(capable of performing its end, but currently not doing so)\n    Ent2(performing its end)\n    Com(Compound)\n\n    classDef default fill:none\n    classDef D fill:#a0e85b\n    classDef D2 fill:#fb9643\n    classDef I fill:#fb6961\n\n```\n\n\n  \n\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| Equation | `[@eq-scriv21]` | [@eq-scriv21] |\n| Equation | `[@eq-scriv22]` | [@eq-scriv22] |\n\n: Cross-referencing **Equations**. {#tbl-scriv20}\n  \n$$t' = \\frac{t - \\dfrac{v}{c^{2}}x}{\\sqrt{1 - \\dfrac{v^{2}}{c^{2}}}}$$ {#eq-scriv21}\n  \n\n$$t' = \\frac{t - \\dfrac{v}{c^{2}}x}{\\sqrt{1 - \\dfrac{v^{2}}{c^{2}}}}\n$$ {#eq-scriv22}\n\n\n### Figures {#sec-scriv23}\n\n\n[]{#scriv23}\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| Figure | `[@fig-scriv24]` | [@fig-scriv24] |\n| Figure (Multipart) | `[@fig-scriv25]` | [@fig-scriv25] |\n| Figure (Multipart) | `[@fig-scriv25A]` | [@fig-scriv25A] |\n| Figure (Multipart) | `[@fig-scriv25B]` | [@fig-scriv25B] |\n| Figure (Multipart) | `[@fig-scriv26]` | [@fig-scriv26] |\n| Figure (Multipart) | `[@fig-scriv26A]` | [@fig-scriv26A] |\n| Figure (Multipart) | `[@fig-scriv26B]` | [@fig-scriv26B] |\n\n: Cross-referencing **Figures**. {#tbl-scriv23}  \n\n\n![This figure uses custom metadata values to identify the class, ID, width and height. The %CA%​ (**C**aption **A**ttributes) tag at the start of the caption is replaced with the correct Scrivener placeholders by the compiler; see global replacements for the details...](Ulysses1.jpg){#fig-scriv24 .column-page width=486 height=402}\n\n\n  \n:::{#fig-scriv25 .column-page layout-ncol=2}\n\n![Elephant.](Elephant2.jpg){#fig-scriv25A width=245 height=252}\n\n\n![Angry elephant with a big trunk.](Elephant3.jpg){#fig-scriv25B width=306 height=249}\n\n\nThis demonstrates generating a multi-panel figure using a Scrivener Section Type [`Multipart Figure`] instead of using raw markdown as shown here. ID, Class, and Attributes specific to the block [`#fig-elephants2 .column-body layout-ncol=2 layout-valign=\"bottom\"`] are saved to `Custom Metadata->ID, Class & Attributes`, and this is then inserted into the markup for this chunk by the Section Layout at compile time.  \n\n:::\n  \n\n::: {#fig-scriv26 .column-page layout-ncol=2 }\n  \n![Elephant castle.](Elephant2.jpg){#fig-scriv26A width=243 height=251}\n\n\n![Angry elephant with a big trunk.](Elephant3.jpg){#fig-scriv26B width=304 height=248}\n\n\nQuarto allows the creation of figure panels with sub-figures. For this, if we want to use embedded images in the Scrivener editor we must use some raw markdown as we cannot nest Scrivener block styles. Note we can use the Scale Image... Tool in Scrivener and these sizes get exported to Quarto and the output. Here we scale both images to the same height.\n:::\n\n### Listings {#sec-scriv27}\n\n\n[]{#scriv27}\n\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| Listing | `[@lst-scriv28]` | [@lst-scriv28] |\n| Listing | `[@lst-scriv29]` | [@lst-scriv29] |\n\n: Cross-referencing **Listings**. {#tbl-scriv27}  \n\n\n```{#lst-scriv28 .ruby lst-cap=\"Ruby code block. The listing Paragraph Style uses the custom metadata of the current text document.\"}\nrequire \"unicode/name\"\n\ncharacters = %w(α β γ δ ε ζ η θ ι κ λ μ ν ξ ο π ρ σ τ υ φ χ ψ ω ἀ ἄ ᾄ ἂ ᾂ ἆ ᾆ ᾀ ἁ ἅ ᾅ ἃ ᾃ ἇ ᾇ ᾁ ά ά ᾴ ὰ ᾲ ᾰ ᾶ ᾷ ᾱ ᾳ ἐ ἔ ἒ ἑ ἕ ἓ έ έ ὲ)\n\n# characters = 'ἄ'\ncharacters.each do |character|\n  puts character.unpack('U*').map { |i| \"U+#{i.to_s(16).rjust(4, '0').upcase}\" }.join\n  puts Unicode::Name.of character\nend\n```\n\n  \n\n```{#lst-scriv29 lst-cap=\"The caption\" .ruby }\n\n#!/usr/bin/env ruby\n# frozen_string_literal: false\n\nEncoding.default_external = Encoding::UTF_8\n\nDir[\"#{__dir__}/Ruby/**/*.rb\"].each do |file|\n  require_relative file\nend\n\n```\n\n### Tables {#sec-scriv30}\n\n\n[]{#scriv30}\n\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| Table | `[@tbl-scriv31]` | [@tbl-scriv31] |\n| Table | `[@tbl-scriv32]` | [@tbl-scriv32] |\n| Table (Multipart) | `[@tbl-scriv33]` | [@tbl-scriv33] |\n| Table (Multipart) | `[@tbl-scriv33A]` | [@tbl-scriv33A] |\n| Table (Multipart) | `[@tbl-scriv33B]` | [@tbl-scriv33B] |\n\n: Cross-referencing **Tables**. {#tbl-scriv30}  \n\n| 1 | 2 | 3 |\n| ----- | ----- | ----- |\n| 4 | 5 | 6 |\n\n: This table uses `Text` as the **Section Type**, and `Table Caption` as the **Paragraph Style** for the caption. {#tbl-scriv31}\n  \n\n| 1 | 2 | 3 |\n| ----- | ----- | ----- |\n| 4 | 5 | 6 |\n\n: This is an example of `Table` as **Section Type**. The caption and the remaining attributes are added as part of the Section Type markup. {#tbl-scriv32 .column-page }\n  \n:::{#tbl-scriv33   layout-ncol=1}\n\n| **Element** | **Prefix** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: | :-----: |\n| Equation A | eq | A | B |\n| Equation A | eq | C | D |\n| Listing A | lst | E | F |\n\n: First Table {#tbl-scriv33A}\n\n\n| **Element** | **Prefix** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: | :-----: |\n| Equation B | eq | A | B |\n| Equation B | eq | C | D |\n| Listing B | lst | E | F |\n\n: Second Table {#tbl-scriv33B}\n\n\nThis is a markdown multi-table panel with two sub-tables generated using a Section Type [`Multipart Table`]. Note that Custom Metadata holds the cross-referencing label, layout class, and the attributes for this multipart table, which will be added by the Section Layout by the compiler, using the Scrivener placeholders: `<​$​​custom:Class>` `<​$​​custom:Attributes>` \n\n\n:::\n\n### Sections {#sec-scriv34}\n\n\n[]{#scriv34}\n\nThe text sections can be referenced with **Character Styles**, and created with **Paragraph Styles** or **Section Types**. As before, all of these receive automatic IDs.\n\n| **Element** | **Markdown Source** | **Rendered Output** |\n| :-----: | :-----: | :-----: |\n| Section | `[@sec-scriv34]` | [@sec-scriv34] |\n| Section | `[@sec-scriv35]` | [@sec-scriv35] |\n| Section | `[@sec-scriv37]` | [@sec-scriv37] |\n| Section | `[@sec-scriv38]` | [@sec-scriv38] |\n| Section | `[@sec-scriv39]` | [@sec-scriv39] |\n\n: Cross-referencing sections. {#tbl-scriv34}\n\nNote that the unnumbered section cannot be referenced.\n\n#### Section {#sec-scriv35}\n\n\n[]{#scriv35}\n\nThis is an example of the `Section` section type.\n\n\n#### Section {-} {#sec-scriv36 .unnumbered}\n\n[]{#scriv36}\n\nThis is an example of the `Section {-}` section type.\n\n#### Heading {#sec-scriv37}\n\n#### Heading + Break {#sec-scriv38}\n\nThis is an example of the `Heading + Break` section type.\n\n{{< pagebreak >}}\n\n\n{{< pagebreak >}}\n\n\n\n#### Section + Break {#sec-scriv39}\n\nThis is an example of the `Section + Break` section type.\n\n## Footnotes {#sec-scriv40}\n\n\n[]{#scriv40}\n\nWe can use also use a **Section Type** to create and a **Character Style** (`Footnote`) to reference footnotes using the standard identifier.[^fn-scriv41] \n\n[^fn-scriv41]: []{#scriv41}  This strategy has the outstanding advantage of allowing us to use, that is right, you guessed it, **Paragraph Styles** and  **Character Styles** in footnotes. There is one small caveat, however: the user has to remember to [always add two empty spaces]{.underline} before each new **paragraph** in the footnote environment.\n\n# Cite Tools {#sec-scriv42}\n\n\n[]{#scriv42}\n\nPart of the motivation behind ScrivQ comes from another project I co-developed: the [Cite Tools](https://bcdavasconcelos.github.io/citetools) extension for [Pandoc](https://pandoc.org) and [Quarto](https://quarto.org).\n\nAs I was first starting to use [Citeproc], coming from the jurassic **[BibTeX]**, I was exceptionally pleased with its speed and reliability. Apart from being *a lot* faster, it would produce the same output across all supported formats (which amounts to over 60). Out-of-the-box, however, it lacked support for really ordinary **BibTeX functionalities**, such as the ability to split the bibliography into multiple sections, or the ability to cite arbitrary fields of the references (*e.g.* using `citetitle`, `citeauthor`, `citefield`). It also lacked the interesting **backref** option afforded by **BibTeX** used in conjunction with **HyperRef** to create linked indexes of citations.\n\n\n![Cite Tool bundles together several lua filters to address complex bibliography demands while keeping the output consistent across formats. If you have suggestions for improvements or bug reports, please [open an issue at the citetools repository](https://github.com/bcdavasconcelos/citetools/issues/new/choose). Logo image generated with Dall-E using \"*Enso-like round black and white painting with ancient greek war-ship with a man tied to the mast as prompt*\".](citetools.png){#fig-scriv42 width=276 height=276}\n\n\nTo step around these limitations, I started tinkering with existing filters available on GitHub (all of them by Albert Krewinkel), and co-developed Cite Field, to create **Cite Tools**, an extension for Quarto and Pandoc that allows the easy creation of a **Multipart Bibliography** (*e.g.* split in *primary* and *secondary* sources, see [@fig-scriv54A]), the citation of arbitrary fields of the references (see [@fig-scriv54B])^[In the official nomenclature, CSL has variables, BibTeX has fields, and RIS has tags. As a general rule, we have stuck to the term fields.], and the linking of each bibliography entry back to its in-text occurrences (see [@fig-scriv54C])^[Linked glossaries can also easily be created by dressing them as bibliography.]. The filters are built-in, and the front matter is set up so that the necessary files are automatically created during compilation. \n\n\n:::{.callout-warning appearance=\"simple\"}\n## Deleting Cite Tools from ScrivQ [will cause the compilation to fail]{.underline}.\n:::\n\n\n:::{.callout-tip appearance=\"simple\"}\nIf you need to use **Cite Tools **in an ordinary Quarto project, use `quarto install extension bcdavasconcelos/citetools` to install it.\n:::\n\n\n[Citeproc]: https://en.wikipedia.org/wiki/CiteProc\n\n## Citation {#sec-scriv43}\n\n\n[]{#scriv43}\n\nLet us quickly recapitulate the basics of Pandoc Citeproc and how it uses citations.\n\n:::{.callout-note}\n## Official documentation\nSee the official documentation on citations at [Pandoc](pandoc.org/MANUAL.html#citations) and [Quarto](quarto.org/docs/authoring/footnotes-and-citations.html#sec-citations). \n:::\n\n\n:::{.column-margin}\nAs we know, each citation must have a key, composed of `@` + the citation identifier that must begin with a letter, digit, or `_`, and may contain alphanumerics, `_`, and internal punctuation characters (`:.#$%&-+?<>~/`).\n:::\n\n\nThe citation syntax is very simple: `@Citekey` for **Author (Date)** (an *in-text* citation); `[@Citekey]` for **(Author, Date)**; and `[-@Citekey]` for **(Date)**. Multiple citations can be grouped in the same brackets separated by semicolons `[@CitekeyA; @CitekeyB]`. The citation key is optionally followed by a locator, which can be a page number, a line number, a chapter number, or a section number, preceded by a comma.\n\n\n| **Markdown Source** | **Rendered output** |\n| :-----: | :-----: |\n| `@Long2004` | @Long2004 |\n| `[@Long2004]` | [@Long2004] |\n| `[@Long2004, p.15]` | [@Long2004, p.15] |\n| `[-@Long2004]` | [-@Long2004] |\n| `[-@Long2004, p.15]` | [-@Long2004, p.15] |\n\n: Citation syntax in Quarto and Pandoc.  {#tbl-scriv43}\n\n:::{.callout-note appearance=\"simple\"  collapse=\"true\"}\n## (Date)\n...on the deliberations of the prudent person [-@Long2004].<br>\n`...on the deliberations of the prudent person [-@Long2004].`\n\n\n...on the deliberations of the prudent person [-@Long2004, p.17].<br>\n`...on the deliberations of the prudent person [-@Long2004, p.17].`\n:::\n\n\n:::{.callout-note appearance=\"simple\"  collapse=\"true\"}\n## Author (Date)\n\n@Long2004 says that...<br>\n`@Long2004 says that...`\n:::\n\n\n:::{.callout-note appearance=\"simple\"  collapse=\"true\"}\n## (Author, Date)\n...on the deliberations of the prudent person [@Long2004].<br>\n`...on the deliberations of the prudent person [@Long2004]`.\n\n\n...on the deliberations of the prudent person [@Long2004, p.17].<br>\n`...on the deliberations of the prudent person [@Long2004, p.17]`.\n:::\n\n\n:::{.callout-note appearance=\"simple\"  collapse=\"true\"}\n## (Author, Date; Author, Date)\n...on the deliberations of the prudent person [@Long2004; @hoffman2014].<br>\n`...on the deliberations of the prudent person [@Long2004; @hoffman2014]`.\n\n\n...on the deliberations of the prudent person [@Long2004, p.17; @hoffman2014, p.15].<br>\n`...on the deliberations of the prudent person [@Long2004, p.17; @hoffman2014, p.15].`\n:::\n\n\nThat is pretty much all there is to it. Now that we have the basics covered, let us see what **Cite Field** can do for us.\n\n## Cite Field {#sec-scriv44}\n\n\n[]{#scriv44}\n\nIn many areas, we are frequently invited to comment on different editions and translations of the same classical works. In such cases, we refer not only to the `author` and the date `issued` of a publication, but also to its `editor`, `translator`, `publisher`, and even `original-title` and `edition`. But how to do this? With **Cite Tools** enabled, the answer lies in a small variation of Pandoc's vanilla syntax for citations.\n\n\n:::{.callout-note}\n## TLDR\nSeveral **Character Styles** are available to inject the correct markup (`[@Citekey]{.csl_field}`) to cite specific fields from your references. \n:::\n\n\n:::{.callout-important}\nInternally, Pandoc uses the **C**itation **S**tyle **L**anguage format for bibliographies. This means that **we must use the CSL variable names** (see [@tbl-scriv47]), and not necessarily the field name you may see in a **RIS** or **BibTeX** bibliography. The correct way to print the book title, for example, would be `[@Citekey]{.container-title}` (and **not** using the BibTeX alternative which is `booktitle`).\n:::\n\n![Printed page with many examples of the citation markup employed by Cite Tools.](citefield.png){#fig-scriv44 width=445 height=458}\n\n\n[For the Cite Field filter,]{.smallcaps} **Character Styles** provide support for the Cite Field Lua Filter, which can be used to cite arbitrary fields of the references.\n\n\n> The works of `[@AristOp]{.author}` were first edited by `[@AristOp]{.editor}` in `[@AristOp]{.issued}`.  \n> The works of [@AristOp]{.author} were first edited by [@AristOp]{.editor} in [@AristOp]{.issued}.  \n\n> Later, the `[@DA]{.title}` (`[@DA]{.title-short}`) was edited by `[@DABiehl1896]{.editor}` in `[@DABiehl1896]{.issued}` (reprinted in `[@DATheiler]{.translator}'s` `[@DATheiler]{.issued}` translation).  \n> Later, the [@DA]{.title} was edited by [@DABiehl1896]{.editor} in [@DABiehl1896]{.issued} (reprinted in [@DATheiler]{.translator}'s [@DATheiler]{.issued} translation).  \n\n:::{.callout-warning}\nYou can set link-fields to false to avoid undesired linking when citing specific fields.\n:::\n\n\nHere is a printout of different citation fields followed by a concrete example of how to use them in a document.\n\n| Raw | Output |\n| :-----: | :-----: |\n| [@AristOp]{.author} | [@AristOp]{.author} |\n| [@AristOp]{.editor} | [@AristOp]{.editor} |\n| [@AristOp]{.title} | [@AristOp]{.title} |\n| [@AristOp]{.issued} | [@AristOp]{.issued}^[Note that [-@AristOp] would render as [-@AristOp].] |\n| [@AristOp]{.publisher} | [@AristOp]{.publisher} |\n| [@AristOp]{.publisher-place} | [@AristOp]{.publisher-place} |\n| [@AristOp]{.edition} | [@AristOp]{.edition} |\n| [@AristOp]{.number-of-volumes} | [@AristOp]{.number-of-volumes} |\n\n: Printout of different fields from the reference {tbl-colwidths=\"[50,50]\"} \n\nThe first critical edition of Aristotle's works was published by [@AristOp]{.editor} in [@AristOp]{.issued}.\n`The first critical edition of Aristotle's works was published by [@AristOp]{.editor} in [@AristOp]{.issued}.`\n:::\n\n  \n\n  \n\n| [CSL] | [BibTeX] | [RIS] |\n| :-----: | :-----: | :-----: |\n| article-journal | article | JOUR<br> JFULL<br>  INPR |\n| book | book<br> proceedings<br> manual | ANCIENT<br> BOOK<br> CLSWK<br> DICT<br> EBOOK<br> EDBOOK |\n| pamphlet | booklet | PAMP |\n| chapter | inbook<br> incollection | CHAP<br> ECHAP |\n| paper-conference | inproceedings | CONF CPAPER |\n| thesis | mastersthesis<br> phdthesis<br> misc | THES |\n| report | techreport | GOVDOC<br> GRANT<br> HEAR<br> RPRT<br> STAND |\n| manuscript | unpublished | MANSCPT |\n\n: CSL-YAML/CSL-JSON types alongside their BibTeX and RIS equivalents. Notice how we are using HTML line breaks to create lists inside table cells. {#tbl-scriv46}\n\n[CSL]: https://docs.citationstyles.org/en/stable/specification.html#appendix-iii-types\n[CSL-YAML]: https://docs.citationstyles.org/en/stable/specification.html\n[CSL-JSON]: https://docs.citationstyles.org/en/stable/specification.html\n[BibTeX]: https://en.wikipedia.org/wiki/BibTeX#Entry_types\n[RIS]: https://en.wikipedia.org/wiki/RIS_(file_format)#Type_of_reference\n\n  \n\n| [CSL variables] | [BibTeX Fields] | [RIS Tags] |\n| :-----: | :-----: | :-----: |\n| abstract | abstract | AB |\n| author | authors | AU<br> A1 |\n| call-number | library | ID |\n| chapter-number<br> collection-number<br> number<br> issue | chapter<br> number<br> issue | IS |\n| collection-title | series | - |\n| container-title | booktitle<br> journal | BT<br> T2<br> JA<br> JF<br> JO |\n| DOI | doi | DO |\n| editor | editors | A2<br> ED |\n| genre | type | - |\n| ISSN | issn | SN |\n| issued | date | PY<br> Y1 |\n| keywords | keywords | KW |\n| language | langid | LA |\n| number-of-volumes | volumes | NV |\n| original-title | origtitle | OR* |\n| page | pages | SP<br> EP |\n| publisher | publisher<br> school<br> institution<br> organization<br> howpublished | PB |\n| publisher-place | address | PP |\n| title | title | TI<br> T1<br> CT |\n| title-short | shorttitle | ST* |\n| url | URL | UR<br> LK |\n| version | version | - |\n| volume | volume | VL |\n\n: CSL-YAML/CSL-JSON variables alongside corresponding [BibTeX](https://github.com/jgm/pandoc/blob/main/src/Text/Pandoc/Citeproc/BibTeX.hs) fields and  [RIS](https://github.com/jgm/pandoc/blob/main/src/Text/Pandoc/Readers/RIS.hs) tags. Those marked with an asterisk exist and correspond, but, for some reason, Pandoc ignores them instead of converting to CSL. {#tbl-scriv47}\n\n\n[CSL variables]: https://docs.citationstyles.org/en/stable/specification.html#appendix-iv-variables\n[BibTeX Fields]: https://en.wikipedia.org/wiki/BibTeX#Field_types\n[RIS Tags]: https://en.wikipedia.org/wiki/RIS_(file_format)#Tags\n\n\n  \n\n\n| CSL Field | Markdown Source | Output |\n| :-----: | :-----: | :-----: |\n| Author | `[@AristOp]{.author}` | [@AristOp]{.author} |\n| Editor | `[@AristOp]{.editor}` | [@AristOp]{.editor} |\n| Issued | `[@AristOp]{.issued}` | [@AristOp]{.issued} |\n| Original-title | `[@DA]{.original-title}` | [@DA]{.original-title} |\n| Publisher | `[@AristOp]{.publisher}` | [@AristOp]{.publisher} |\n| Publisher-place | `AristOp` | AristOp |\n| Title | `[@AristOp]{.title}` | [@AristOp]{.title} |\n| Title-short | `[@AristOp]{.title-short}` | [@AristOp]{.title-short} |\n| Translator | `[@DABiehl1896 ]{.editor}` | [@DABiehl1896 ]{.editor} |\n| Translator | `[@DATheiler]{.translator}` | [@DATheiler]{.translator} |\n\n: Simple example of how we are using styles to create the correct markup {#tbl-scriv48  }\n\n## Multipart Bibliography {#sec-scriv49}\n\n\n[]{#scriv49}\n\nIn many areas of research, the ability to split the bibliography into sections is a condition *sine qua non* for publishing. In the humanities, for example, there are usually *primary* and *secondary* sources. In philosophy, even, they can be very nuanced with sections dedicated to original sources, translations, commentaries, and so on. The **Section Type** titled `Multipart Bibliography` can be used to create as many new bibliography sections as necessary. Add to the text the references that should print there, and let it know in the custom metadata `<\\$custom:Attributes>` the format being used (*e.g.* `bib`, `yml`, `ris`). \n\n\n:::{.callout-tip}\n## Bibliography formats\n\nSpeaking about formats, the most common bibliography formats are [CSL-YAML], [CSL-JSON], [BibTeX], and [RIS]. Internally, **Pandoc** and **Quarto** use the CSL (**C**itation **S**tyle **L**anguage) to handle bibliography, so **CSL-YAML** and **CSL-JSON** perform much better (up to 10 times faster) than older formats like **BibTeX** or **RIS** that will have to be converted by **Pandoc** before it can be understood.\n:::\n\n\nScrivQ provides all the data needed for the project to compile. Before you can use Citeproc on your projects, you will need to generate your bibliography data. In principle, nothing stops you from manually, or semi-manually, keeping a bibliography in Scrivener, but this is not very easy to manage if you have many projects sharing the same references. (Luckily, in this regard, Scrivener offers the best text comparison tools I can think of). The best alternative, it seems, is to rely on specialized software such as Zotero, Bookends, Bibdesk (also JabRef, Endnote, and [others](en.wikipedia.org/wiki/Comparison_of_reference_management_software)). These programs allow you to edit your bibliography and easily export it in the desired format, which can be copied and pasted to different Scrivener projects. Zotero even offers an API that can be used to download shared libraries by merely accessing a link, such as `https://api.zotero.org/groups/`[LibraryID]{.underline}`/items?format=bibtex&limit=999` where `LibraryID` corresponds to the library's 7-digit code (visible in the middle of the library URL). \n\n\n![This will result in a separate file, whose path will be added to the front matter, with the content of the text. The resulting bibliography will print right where we placed it in our project.](newbibliography.png){#fig-scriv49A width=386 height=221}\n\n\n![On the left we have the **Table of Contents**; on the top-right, we see the printed bibliography (page 31) and, on the bottom-right, the files are automatically created during the compilation process.](resultbib.png){#fig-scriv49B width=428 height=295}\n\n\n:::{.callout-important}\n## The sky is the limit\n\nYou can add as many bibliographies as you want!\n:::\n\n:::{.callout-tip}\n## Bibliography files in the system\n\nAs you can see, there is no need to keep separate bibliography files in the system. You can simply copy and paste the data from your bibliography manager to Scrivener. If you are using macOS, check Bookends and Bibdesk; and, on all platforms, definitively get Zotero as well. \n:::\n\n\n:::{.callout-note}\n## From structured bibliography data to the rendered output\n\nWe are feeding the data precisely where you would usually write out your references. In this case, however, we provide the structured data and let Citeproc determine how to display it based on the CSL file rules. \n:::\n\n## Citation Style Language {#sec-scriv50}\n\n\n[]{#scriv50}\n\n\n:::{.callout-note}\nDid you notice that we used `[@AristOp]{.issued}` instead of ~~`[@AristOp]{.date}`~~? And `AristOp` instead of ~~`[@AristOp]{.city}`~~? \n:::\n\n![][226091195-7b27f8a7-c802-4cbb-bac9-81265b7aed45]  \n\n## Citation Backlinks {#sec-scriv51}\n\n\n[]{#scriv51}\n\nIn the vanilla Pandoc Citeproc, you can use link-citations to control whether citations in the body of the text should be clickable links to the reference in the bibliography (e.g. [@EN]{.title-short}). This is a very useful feature, especially when you want to quickly check the source of a citation without having to scroll through the whole text.\n\n::: {.callout-tip appearance=\"simple\"} The citetools extension will take this one step further and add, in a crescent ordinal fashion [1, 2, 3, 4]^[In other output formats, such as PDF, the reader will see the page number instead of a crescent ordinal number.], a backlink to each citation an entry has received in the document. ::: \nThis allows the reader to easily arrive at sections of the text where the same reference was discussed, quickly seeing with the array of backlinks, how many times each reference was used in the text (see reference at the bottom of the text).\n\n### How to avoid an excess of undesired links {#sec-scriv52}\n\n\n[]{#scriv52}\n\nIn citetools there are options to avoid undesired linking and anomalies caused by citing individual fields, such as repeated links to the same entry in a single phrase or section.\n\nFirst, there is the option to force a citation to not be a link by adding a simple dot at the end of the .csl_field.\n\n| Default | Link--suppresion |\n| ----- | ----- |\n| [@EN]{.title} | [@EN]{.title.} |\n| [@EN]{.title} | [@EN]{.title.} |\n\nThen, there is also the global link-fields option, which allows the user to turn off links in citations that target individual fields. It can be used in conjunction with other options that target the bibliography, such as link-citations and link-bibliography.\nlink-citations: true # <1>\nlink-fields: true # <2>\nlink-bibliography: true # <3>\nlang: en-ZA # <4>\n\n1. Hyperlink citations to the corresponding bibliography entries. Defaults to false.\n2. Hyperlink citations that target specific CSL fields to the corresponding entries in the bibliography. If link-citations is true, this defaults to true.\n3. Hyperlink DOIs, PMCIDs, PMID, and URLs in bibliographies. Defaults to true.\n4. Affects the bibliography tags. Defaults to en-US.\n\n## About {#sec-scriv53}\n\n\n[]{#scriv53}\n\nLogo image generated Dall-E using Enso-like round black and white painting with ancient greek war-ship with man tied to the mast as prompt.\nLicense\nFilters published under the MIT license by Albert Krewinkel (tarleb).\n\n* multibib\n* multiple-bibliographies\n* citation-backlinks\n* section-bibliographies\n\nFilters published under the MIT license by Albert Krewinkel (tarleb) & Bernardo Vasconcelos (bcdavasconcelos).\n\n* citefield\n\nAll Pandoc Lua filters in this extension are published under the MIT license, see file LICENSE for details.\nThe Cite Tools Documentation is under a Creative Commons Attribution-NonCommercial 4.0 International License.\n  \n\n![Multipart bibliography with sections, such as primary sources and secondary sources](multipartbibliography.png){#fig-scriv54A width=452 height=207}\n\n\n![Cite Field allows the evocation of arbitrary information from the references, such as `author`, `editor`, `translator` (using [CSL variables] name conventions)](citefield.png){#fig-scriv54B width=456 height=108}\n\n\n![The **Citation Backlinks** filter adds an index of cited references to the bibliography, with links back to all in-text citations. It also allows the user to turn these off globally or in an *ad hoc* fashion.](backrefs.png){#fig-scriv54C width=465 height=258}\n\n\n  \n:::{#scriv55 .column-page }\n::: {#first-column .column width=15%}\n\n**BibTeX**\n\n```bibtex\n@book{AristOp,\nauthor = {Aristotle},\neditor = {Bekker, Immanuel},\ntitle = {Aristotelis opera},\npublisher = {Reimer},\naddress = {Berlim},\nvolumes = {4},\nedition = {1},\nyear = {1831}\n}\n```\n\n**RIS**\n\n```ris\nTY  - BOOK\nID  - AristOp\nAU  - Aristotle\nED  - Bekker, Immanuel\nTI  - Aristotelis opera\nPB  - Reimer\nCY  - Berlim\nET  - 1\nVL  - 4\nY1  - 1831\nER  -\n```\n:::\n\n::: {#second-column .column width=2%}\n:::\n\n::: {#forth-column .column width=20%}\n**CSL-YAML**\n\n```yaml\n---\nreferences:\n- author:\n  - family: Aristotle\n  edition: 1\n  editor:\n  - family: Bekker\n    given: Immanuel\n  id: AristOp\n  issued: 1831\n  number-of-volumes: 4\n  publisher: Reimer\n  publisher-place: Berlim\n  title: Aristotelis opera\n  type: book\n---\n```\n\n**CSL-JSON**\n\n```json\n[\n  {\n    \"author\": [\n      {\n        \"family\": \"Aristotle\"\n      }\n    ],\n    \"edition\": \"1\",\n    \"editor\": [\n      {\n        \"family\": \"Bekker\",\n        \"given\": \"Immanuel\"\n      }\n    ],\n    \"id\": \"AristOp\",\n    \"issued\": {\n      \"date-parts\": [\n        [\n          1831\n        ]\n      ]\n    },\n    \"number-of-volumes\": \"4\",\n    \"publisher\": \"Reimer\",\n    \"publisher-place\": \"Berlim\",\n    \"title\": \"Aristotelis opera\",\n    \"type\": \"book\"\n  }\n]\n```\n:::\n\n:::\n\n# Primary Sources {#sec-scriv56 .appendix}\n\n\n---\nbibliography_scriv56: \"refs/refs-scriv56.yml\"\n---\n\n\n::: {#refs_scriv56 }\n:::\n\n\n\n\n# Secondary Sources {#sec-scriv83 .appendix}\n\n\n---\nbibliography_scriv83: \"refs/refs-scriv83.yml\"\n---\n\n\n::: {#refs_scriv83 }\n:::\n\n\n\n\n# Workflow {#sec-scriv129 .appendix}\n\n\n---\nbibliography_scriv129: \"refs/refs-scriv129.bib\"\n---\n\n\n::: {#refs_scriv129 }\n:::\n\n\n\n\n# Resources {#sec-scriv130}\n\n\n[]{#scriv130}\n\nBootstrap Icons - https://icons.getbootstrap.com - These are available in Quarto documents using the **Shortcode Font Awesome** style as in `{{< fa regular bell >}}` {{< fa regular bell >}}.\nThere is also **Shortcode Env**, **Shortcode Meta**, **Shortcode Var**. \nWriting in Scrivener (https://github.com/iandol/scrivomatic#writing-in-scrivener) is a must read.\nThe Plain Person's Guide to Plain Text Social Science - https://plain-text.co/index.html#introduction\nQuarto Reference - https://quarto.org/docs/reference/\nThe easiest way to publish to Github Pages: Render to docs\n\nExample of Quarto Book - https://github.com/jjallaire/hopr/blob/master/_quarto.yml\n\nQuarto with GH Pages - https://tarleb.com/posts/quarto-with-gh-pages/\n\n\n## Callout {#sec-scriv131}\n\n\n[]{#scriv131}\n\nThese sections are divs with hardcoded classes (.callout-caution, .callout-important, .callout-note, .callout-tip, .callout-warning).\n\n  \n:::{#scriv132 .callout-caution collapse=\"true\"}\n:::\n  \n:::{#scriv133 .callout-important collapse=\"true\"}\n:::\n  \n:::{#scriv134 .callout-note collapse=\"true\"}\n:::\n  \n:::{#scriv135 .callout-tip collapse=\"true\"}\n:::\n  \n:::{#scriv136 .callout-warning collapse=\"true\"}\n:::\n\n## Generic Divs {#sec-scriv137}\n\n\n[]{#scriv137}\n\nFinally, we'll look at how we can use generic Div sections to recreate some of the other hardcoded sections.\n  \n:::{#cnj-scriv139  }\nConjecture example with generic `Div` **Section Type**. Check the **Metadata** inspector tab for further information.\n:::\n  \nCaution\n\n\n## Layout {#sec-scriv141}\n\n\n[]{#scriv141}  \n:::{#scriv142 .column-margin }\nThis Marginalia is using a Section Type [`Column Margin`]. The contents will be assigned the `.column-margin` class and placed in the margin in HTML and LaTeX outputs. See https://quarto.org/docs/authoring/article-layout.html for details...  \n\n:::\n  \n:::{#scriv143 .column-page }\nIf you need even more space for your content, you can use the **Section Type **[`Column Page`] to assign the `.column-page` class and make the content much wider, though stopping short of extending across the whole document. See https://quarto.org/docs/authoring/article-layout.html for details.\n\n:::\n  \n:::{#scriv144 .column-page-left }\nThis uses a Section Type [`Column Page←Left`]. The contents will be assigned the `.column-page-left` class and stretched leftwards across the page, see https://quarto.org/docs/authoring/article-layout.html for details.  \n\n\n:::\n  \n:::{#scriv145 .column-page-right }\nThis uses a Section Type [`Column Page→Right`]. The contents will be assigned the `.column-page-right` class and stretched rightwards across the page, see https://quarto.org/docs/authoring/article-layout.html for details.  \n\n\n:::\n  \n:::{#scriv146 .column-screen }\nThis is an example of the `Column Screen` section type.\n\n:::\n\n\n### Columns {#sec-scriv147}\n\n\n[]{#scriv147}\n\n# Abstract {#sec-scriv148}\n\n\n[]{#scriv148}\n\n[This ScrivQ sample project demonstrates a workflow using the Quarto scientific publishing system run using the Scrivener Compiler]{.smallcaps}. Quarto utilizes Pandoc and combines several extensions and nice templates to support many layout tweaks and advanced cross-referencing, which renders it ideal for technical and academic writing. This workflow uses Paragraph and Character Styles where applicable for handling formatting, demonstrates an alternative using **Section Types** (with optional attributes), and also shows the fallback to plain raw markdown as a third alternative for handling Quarto's layout features. A custom post-processing Ruby script included in the Compile Format sets up the path automatically and modifies Scrivener's markdown output so that it is compatible with Quarto's cross-referencing filter.  All the auxiliary files -- bibliographies, lua filters, project metadata -- will automatically be created in the export folder each time the project is compiled (if already present, they will be overwritten; other files won't be erased). If you already have Quarto, it introduces zero new dependencies, and you should be able to compile it immediately. \n\n# Introduction {#sec-scriv149}\n\n\n[]{#scriv149}\n\n> *\"We don't see things as they are, we see them as we are.\" --- Anaïs Nin*  \n\nLørem ipsum dolør sit amet, eu ipsum movet vix, veniam låoreet posidonium^[This is a footnote, **with** a citation [@crivellato2007].] te eøs, eæm in veri eirmod [@barrett2015; @crivellato2007]. Sed illum minimum at 3.25×10⁴⁸ (see [@sec-scriv161]), est mægna alienum mentitum ne. [Amet equidem](quarto.org/) sit ex (see [@sec-scriv168]). Ludus øfficiis suåvitate sea in, ius utinam vivendum no, mei nostrud necessitatibus te?  \n\n\n![\"*What a trip!*\" - said Ulysses as he sailed by the sirens. We add the *cross-referencing label* to the **_start_** of the caption. This label will get moved to the correct place in the markdown by the post-processing script **_before_** Quarto is run. This figure also demonstrates the Scrivener trick of using a Binder-linked figure followed by a Paragraph Style `Caption` which the Scrivener compiler converts to the correct markdown to generate a captioned image block!](Ulysses1.jpg){#fig-scriv149 .column-page width=486 height=402}\n\n\nSint meis quo et, vis ad fæcete dolorem! Ad quøt moderatius elaboraret eum[@crivellato2007], pro paulo ridens quaestio ut (see [@fig-scriv149])! Iudico nullam sit ad, ad has åperiam senserit conceptåm? Tritani posidonium suscipiantur ex duo, meæ essent mentitum ad. Nåm ex mucius mandamus, ut duo cåusae offendit laboramus. Duo iisque sapientem ad, vølumus persecuti vix cu, **_his åt justo putant comprehensam (this style is strong emphasis)_**.  \n\nAd pro quod ^superscript^, mel no laudem ~subscript~, te mei prompta maiorum pønderum [@siegel2015; @copenhaver2014; @hoffman2014; @barrett2015; @simmons2013]. Solum aeque singulis duo ex, est an iriure øblique.  \n\n\n:::{.column-margin}\nHere is some marginalia using the [`Marginalia`] Paragraph Style, *including* a citation [@barrett2015]. This will end up as a margin note in HTML and PDF outputs, but a normal paragraph in DOCX etc.\n:::\n\n\nVolumus åntiøpam iudicåbit et pro, cibo ubique hås an? Cu his movet feugiåt pårtiendo [@barrett2015; @crivellato2007]! Eam in ubique høneståtis ullåmcorper, no eos vitae orætiø viderer. Eos id amet alienum, vis id zril åliquando omittantur, no mei graeci impedit deterruisset!  \n\n\n:::{.callout-tip}\nThis callout is generated using the [`Callout Tip`] Scrivener Paragraph Style...\n:::\n\n\nThis is a standard native Scrivener list, which will get converted to markdown by the Scrivener compiler: \n\n\n* Item 1\n* Item 2\n    * Item 2a\n    * Item 2b\n* Item 3\n\nNo meæ menandri mediøcritatem, meis tibique convenire vis id! Delicata intellegam mei ex. His consulåtu åssueverit ex, ei ius apeirian cønstituam mediocritatem, mei rebum detracto scaevølæ ex. Sed modo dico ullum at, sententiae definiebas ex eam! Nøstro eruditi eum ex.  See [@tbl-scriv149] for more details.   \n\n\n| Table Head 1 | Table Head 2 | Table Head 3 |\n| :-----: | :-----: | :-----: |\n| Item 1 | Item 2 | Item 3 |\n| Item 4 | Item 5 | Item 6 |\n| Item 7 | Item 8 | Item 9 |\n| Item 10 | Item 11 | Item 12 |\n\n: This is native Scrivener table with a referenced table caption. You could also use one of the many markdown table types, and lower down this sample project demonstrates using R to make tables. {#tbl-scriv149}\n\nÅd nam omnis ullamcørper vituperatoribus. Sed verear tincidunt rationibus an. Elit såperet recteque sit et, tåmquåm noluisse eloquentiåm ei mei. In pri solet soleat timeam, tale possit vis æt.  \n\n# Methods {#sec-scriv150}\n\n\n[]{#scriv150}\n\n## Data Recording {#sec-scriv151}\n\n\n[]{#scriv151}\n\n\n:::{.column-margin}\n![A figure of a poor, poor marginalised elephant...](Elephant3.jpg){#fig-scriv151}\n:::\n\n\nLørem ipsum dolør sit amet, eu ipsum movet vix, veniam låoreet posidonium te eøs, eæm in veri eirmod. Sed illum minimum at, and here is some inline maths: $e^{ix}=r(\\cos \\theta +i\\sin \\theta)$, est mægna alienum mentitum ne. Amet equidem sit ex. Ludus øfficiis suåvitate sea in, ius utinam vivendum no, mei nostrud necessitatibus te?  \n\nNote that for equations we place the cross-referencing label on a newline *after* the [`Maths Block`] (as paragraph styles require to run to the line end, we cannot keep the label on the same line or it will be 'swallowed' by the suffix). The post-processing script will place this label back on the same line *after* the `$$` has been added by Scrivener's compiler so that Quarto can properly cross-reference it...  \n\nSee both [@eq-scriv151] and [@eq-scriv152] for more details:\n\n\n$$t' = \\frac{t - \\dfrac{v}{c^{2}}x}{\\sqrt{1 - \\dfrac{v^{2}}{c^{2}}}}$$ {#eq-scriv151}\n\n  \nSint meis quo et, vis ad fæcete dolorem!\n\n\n$$\\nabla \\times \\mathbf {H} ={\\frac {1}{c}}\\left(4\\pi \\mathbf {J} _{\\text{f}}+{\\frac {\\partial \\mathbf {D} }{\\partial t}}\\right)$$ {#eq-scriv152}\n\nTritani posidonium suscipiantur ex duo, meæ essent mentitum ad. Nåm ex mucius mandamus, ut duo cåusae offendit laboramus. Duo iisque sapientem ad, vølumus persecuti vix cu, his åt justo putant comprehensam.See [@fig-scriv25A] for a poor marginalised elephant. Ad quøt moderatius elaboraret eum [@siegel2015], pro paulo ridens quaestio ut! Iudico nullam sit ad, ad has åperiam senserit conceptåm?\n\n\n~~~ruby\n# This is a styled Ruby code block, \n# using the paragraph style [Ruby Code]\n\n# Output \"I love Ruby\"\nsay = \"I love Ruby\"\nputs say\n\n# Output \"I *LOVE* RUBY\"\nsay['love'] = \"*love*\"\nputs say.upcase\n\n# Output \"I *love* Ruby\"\n# five times\n5.times { puts say }\n~~~\n\nAd pro quod definitiønem^[Another footnote. Although footnotes get converted just fine, one caveat is you cannot use Scrivener inline styles, so you **must** use Pandoc markup *directly*.], mel no laudem delectus, te mei prompta maiorum pønderum. Solum aeque singulis duo ex [@siegel2015], est an iriure øblique. Volumus åntiøpam iudicåbit et pro, cibo ubique hås an? Cu his movet feugiåt pårtiendo! Eam in ubique høneståtis ullåmcorper, no eos vitae orætiø viderer. Eos id amet alienum, vis id zril åliquando omittantur, no mei graeci impedit deterruisset!  \n\n## Experimental Perturbations {#sec-scriv153}\n\n\n[]{#scriv153}\n\nLørem ipsum dolør sit amet, eu ipsum movet vix, veniam låoreet posidonium te eøs, eæm in veri eirmod. Sed illum minimum at, est mægna alienum mentitum ne. Amet equidem sit ex. Ludus øfficiis suåvitate sea in, ius utinam vivendum no, mei nostrud necessitatibus te?  \n\n\n:::{.column-margin}\nScrivener cannot **_nest_** block styles, so for Marginalia like this one we can use pandoc markup like `$$` directly instead of an e.g. maths block paragraph style. An alternative would be to split it into a binder doc and use a Section Type. We know from *the first fundamental theorem of calculus* that for $x$ in $[a, b]$:\n$$\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).$$\n:::\n\n\nSint meis quo et, vis ad fæcete dolorem! Ad quøt moderatius elaboraret eum, pro paulo ridens quaestio ut! Iudico nullam sit ad, ad has åperiam senserit conceptåm? Tritani posidonium suscipiantur ex duo, meæ essent mentitum ad. Nåm ex mucius mandamus, ut duo cåusae offendit laboramus. Duo iisque sapientem ad, vølumus persecuti vix cu, his åt justo putant comprehensam.  \n\nThis next part will demonstrate the use of raw markdown within the document to create a multipart figure. See [@fig-scriv25] below for an example using a Section Type to insert the same markup at compile-time.\n\n\n::: {#fig-scriv153 .column-page layout-ncol=2 layout-valign=\"top\"}\n  \n![Elephant castle.](Elephant2.jpg){#fig-scriv153A width=243 height=251}\n\n\n![Angry elephant with big trunk.](Elephant3.jpg){#fig-scriv153B width=304 height=248}\n\n\nQuarto allows the creation of figure panels with sub-figures. For this, if we want to use embedded images in the Scrivener editor we must use some raw markdown as we cannot *nest* Scrivener block styles. Note we can use the Scale Image... Tool in Scrivener and these sizes get exported to Quarto and the output. Here we scale both images to the same height.\n:::\n\nSee [@fig-scriv153], particularly [@fig-scriv153B]. Ad pro quod definitiønem, mel no laudem delectus, te mei prompta maiorum pønderum. Solum aeque singulis duo ex, est an iriure øblique. Volumus åntiøpam iudicåbit et pro, cibo ubique hås an? Cu his movet feugiåt pårtiendo! Eam in ubique høneståtis ullåmcorper, no eos vitae orætiø viderer. Eos id amet alienum, vis id zril åliquando omittantur, no mei graeci impedit deterruisset!  \n\n\n:::{.callout-warning}\nNote that there are five types of callouts, including: \n`note`, `tip`, `warning`, `caution`, and `important`.\n:::\n\n\nNo meæ menandri mediøcritatem, meis tibique convenire vis id! Delicata intellegam mei ex. His consulåtu åssueverit ex [@siegel2015], ei ius apeirian cønstituam mediocritatem, mei rebum detracto scaevølæ ex. Sed modo dico ullum at, sententiae definiebas ex eam! Nøstro eruditi eum ex.  \n\n\n:::{.callout-important}\nNote that there are five types of callouts, including: \n`note`, `tip`, `warning`, `caution`, and `important`.\n:::\n\nÅd nam omnis ullamcørper vituperatoribus. Sed verear tincidunt rationibus an. Elit såperet recteque sit et, tåmquåm noluisse eloquentiåm ei mei. In pri solet soleat timeam, tale possit vis æt.  \n\n\n:::{.callout-note}\nNote that there are five types of callouts, including: \n`note`, `tip`, `warning`, `caution`, and `important`.\n:::\n\n## Stimulus Plotting {#sec-scriv154}\n\n\n[]{#scriv154}\n\nNote if you have R and Python installed, you can run code like so...\n\nHere is an R plot ([@fig-scriv154]), you need to have R installed for this to work, if not remove this document from the compile:  \n\n\n\n::: {.cell .column-page hash='index_cache/html/fig-scriv154_11599a66db134e43513961be96e5fb5b'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nggplot(airquality, aes(Temp, Ozone)) + \n  geom_point() + \n  geom_smooth(method = \"loess\")\n```\n\n![A plot generated at compile-time by R, using a Scrivener paragraph style [R Block] and using column-page layout; the plot shows temperature against ozone level.](index_files/figure-html/fig-scriv154-1.png){#fig-scriv154 width=672}\n:::\n\n\n\nLørem ipsum dolør sit amet, eu ipsum movet vix, veniam låoreet posidonium te eøs, eæm in veri eirmod. [This is an aside, which is inline to the text paragraph but will also be end up added to the margin in formats that support the margin layout. ]{.aside}Sed illum minimum at, est mægna alienum mentitum ne. Amet equidem sit ex. Ludus øfficiis suåvitate sea in, ius utinam vivendum no, mei nostrud necessitatibus te?  \n  \nNo meæ menandri mediøcritatem, meis tibique convenire vis id! Delicata intellegam mei ex. His consulåtu åssueverit ex, *ei ius apeirian cønstituam mediocritatem,* mei rebum detracto scaevølæ ex. Sed modo dico ullum at, **sententiae definiebas ex eam**! Nøstro eruditi eum ex.  \n\n## Statistical Analysis {#sec-scriv156}\n\n\n[]{#scriv156}\n\nLørem ipsum dolør sit amet, eu ipsum movet vix, veniam låoreet posidonium te eøs, eæm in veri eirmod. Sed illum minimum at, est mægna alienum mentitum ne. Amet equidem sit ex. Ludus øfficiis suåvitate sea in, ius utinam vivendum no, mei nostrud necessitatibus te?  \n\n\n\n```{dot}\n//| label: fig-scriv156\n//| fig-cap: \"A graphviz graph with figure reference and caption, using the [Dot block] paragraph style. Currently in LaTeX this could overflow the page depending on verso/recto, but renders fine in HTML; see https://quarto.org/docs/authoring/diagrams.html#sizing for more details...\"\n\ngraph G {\n  layout=neato\n  run -- intr;\n  intr -- runbl;\n  runbl -- run;\n  run -- kernel;\n  kernel -- zombie;\n  kernel -- sleep;\n  kernel -- runmem;\n  sleep -- swap;\n  swap -- runswap;\n  runswap -- new;\n  runswap -- runmem;\n  new -- runmem;\n  sleep -- runmem;\n}\n```\n\n\nSint meis quo et, vis ad fæcete dolorem! Ad quøt moderatius elaboraret eum, pro paulo ridens quaestio ut! Iudico nullam sit ad, ad has åperiam senserit conceptåm? Tritani posidonium suscipiantur ex duo, meæ essent mentitum ad. Nåm ex mucius mandamus, ut duo cåusae offendit laboramus. Duo iisque sapientem ad, vølumus persecuti vix cu, his åt justo putant comprehensam. See [@fig-scriv157] and [@fig-scriv167] for details.\n\n  \n\n```{dot}\n//| label: fig-scriv157\n//| fig-cap: \"A graphviz graph with figure reference and caption, using the [Dot block] paragraph style. Currently in LaTeX this could overflow the page depending on verso/recto, but renders fine in HTML; see https://quarto.org/docs/authoring/diagrams.html#sizing for more details...\"\n\ndigraph finite_state_machine {\n\tFontname=\"Avenir,Helvetica,sans-serif\"\n\tnode [fontname=\"Avenir,Helvetica,sans-serif\"]\n\tedge [fontname=\"Avenir,Helvetica,sans-serif\"]\n\trankdir=LR;\n\tnode [shape = doublecircle]; 0 3 4 8;\n\tnode [shape = circle];\n\t0 -> 2 [label = \"SS(B)\"];\n\t0 -> 1 [label = \"SS(S)\"];\n\t1 -> 3 [label = \"S($end)\"];\n\t2 -> 6 [label = \"SS(b)\"];\n\t2 -> 5 [label = \"SS(a)\"];\n\t2 -> 4 [label = \"S(A)\"];\n\t5 -> 7 [label = \"S(b)\"];\n\t5 -> 5 [label = \"S(a)\"];\n\t6 -> 6 [label = \"S(b)\"];\n\t6 -> 5 [label = \"S(a)\"];\n\t7 -> 8 [label = \"S(b)\"];\n\t7 -> 5 [label = \"S(a)\"];\n\t8 -> 6 [label = \"S(b)\"];\n\t8 -> 5 [label = \"S(a)\"];\n}\n\n```\n\n  \nAd pro quod definitiønem, mel no laudem delectus, te mei prompta maiorum pønderum. Solum aeque singulis duo ex, est an iriure øblique. Volumus åntiøpam iudicåbit et pro, cibo ubique hås an? Cu his movet feugiåt pårtiendo! Eam in ubique høneståtis ullåmcorper, no eos vitae orætiø viderer. Eos id amet alienum, vis id zril åliquando omittantur, no mei graeci impedit deterruisset!  \n  \nNo meæ menandri mediøcritatem, meis tibique convenire vis id! Delicata intellegam mei ex. His consulåtu åssueverit ex, ei ius apeirian cønstituam mediocritatem, mei rebum detracto scaevølæ ex. Sed modo dico ullum at, sententiae definiebas ex eam! Nøstro eruditi eum ex.  \n\nÅd nam omnis ullamcørper vituperatoribus. Sed vereartincidunt rationibus an. Elit såperet recteque sit et, tåmquåm noluisse eloquentiåm ei mei. In pri solet soleat timeam, tale possit vis æt.  \n\nNo meæ menandri mediøcritatem, meis tibique convenire vis id! Delicata intellegam mei ex. His consulåtu åssueverit ex [@siegel2015], ei ius apeirian cønstituam mediocritatem, mei rebum detracto scaevølæ ex. Sed modo dico ullum at, sententiae definiebas ex eam! Nøstro eruditi eum ex.  \n\nSint meis quo et, vis ad fæcete dolorem! Ad quøt moderatius elaboraret eum, pro paulo ridens quaestio ut! Iudico nullam sit ad, ad has åperiam senserit conceptåm? Tritani posidonium suscipiantur ex duo, meæ essent mentitum ad. Nåm ex mucius mandamus, ut duo cåusae offendit laboramus. Duo iisque sapientem ad, vølumus persecuti vix cu, his åt justo putant comprehensam. See [@fig-scriv160] for details.  \n  \n\n![This figure uses custom metadata values to identify the class, ID, width, and height. The %CA%​ tag at the start of the caption is replaced with the correct Scrivener placeholders by the compiler; see global replacements for the details...](Ulysses1.jpg){#fig-scriv160 .column-page width=537 height=444}\n\n# Results {#sec-scriv161}\n\n\n[]{#scriv161}\n\n## Lunar Cycles {#sec-scriv162}\n\n\n[]{#scriv162}\n\nLørem ipsum dolør sit amet, eu ipsum movet vix, veniam låoreet posidonium te eøs, eæm in veri eirmod. Sed illum minimum at, est mægna alienum mentitum ne. Amet equidem sit ex (see @fig-elespan). Ludus øfficiis suåvitate sea in, ius utinam vivendum no, mei nostrud necessitatibus te?  \n\n\n:::{.column-page}\n\n![This should span the whole page. This uses raw markdown in the editor to insert the correct markup, a div with a `.column-page` class, for Quarto's layout for extend-to-page-width.](Elephant1.jpg){#fig-elespan width=520 height=262}\n\n:::\n\nSint meis quo et, vis ad fæcete dolorem! Ad quøt moderatius elaboraret eum, pro paulo ridens quaestio ut! Iudico nullam sit ad, ad has åperiam senserit conceptåm? Tritani posidonium suscipiantur ex duo, meæ essent mentitum ad. Nåm ex mucius mandamus, ut duo cåusae offendit laboramus. Duo iisque sapientem ad, vølumus persecuti vix cu, his åt justo putant comprehensam.  \n\n\n:::{.column-page}\n![This should also span the whole page, using a paragraph block style [`Column Page`]. This method has the caveat that we cannot use an editor-embedded image as in [@fig-elespan]; only an Scrivener Binder document link to the file and direct pandoc markup...](Elephant1.jpg){#fig-elespan2}\n:::\n\n\nAd pro quod definitiønem [@crivellato2007], mel no laudem delectus [@siegel2015], te mei prompta maiorum pønderum. Solum aeque singulis duo ex, est an iriure øblique. Volumus åntiøpam iudicåbit et pro, cibo ubique hås an? Cu his movet feugiåt pårtiendo! \n  \n:::{#scriv163 .column-page-right }\n![««AB»» This should span the page to the right in HTML. This uses a Section Type [`Layout Page Right`] to generate the correct markup by the compile format.][Elephant3-3]\n\n\n:::\n  \nEam in ubique høneståtis ullåmcorper, no eos vitae orætiø viderer. Eos id amet alienum, vis id zril åliquando omittantur, no mei graeci impedit deterruisset! We can reference sub-tables, for example see [@tbl-scriv164B].\n\n\n::: {#tbl-scriv164 layout-ncol=2}\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: First Table {#tbl-scriv164A}\n\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: Second Table {#tbl-scriv164B}\n\nThis is a markdown table panel with two sub-tables; just using plain markdown in the editor (no Scrivener Styles or Section Types).\n:::\n\nNo meæ menandri mediøcritatem, meis tibique convenire vis id! Delicata intellegam mei ex. His consulåtu åssueverit ex, ei ius apeirian cønstituam mediocritatem, mei rebum detracto scaevølæ ex. Sed modo dico ullum at, sententiae definiebas ex eam! Nøstro eruditi eum ex.  \n\n\nÅd nam omnis ullamcørper vituperatoribus. Sed verear tincidunt rationibus an. Elit såperet recteque sit et, tåmquåm noluisse eloquentiåm ei mei. In pri solet soleat timeam, tale possit vis æt.  Please refer to [@tbl-scriv164], including [@tbl-scriv164A] and [@tbl-scriv164B] for more details.\n\n## Solar Cycles {#sec-scriv165}\n\n\n[]{#scriv165}\n\nLørem ipsum dolør sit amet, eu ipsum movet vix, veniam låoreet posidonium te eøs, eæm in veri eirmod. Sed illum minimum at, est mægna alienum mentitum ne. Amet equidem sit ex. Ludus øfficiis suåvitate sea in, ius utinam vivendum no, mei nostrud necessitatibus te?  \n\n\nSint meis quo et, vis ad fæcete dolorem! Ad quøt moderatius elaboraret eum, pro paulo ridens quaestio ut! Iudico nullam sit ad, ad has åperiam senserit conceptåm? Tritani posidonium suscipiantur ex duo, meæ essent mentitum ad. Nåm ex mucius mandamus, ut duo cåusae offendit laboramus. Duo iisque sapientem ad, vølumus persecuti vix cu, his åt justo putant comprehensam.  \n\n\n  \n:::{#scriv166 .callout-caution }\nThis is a callout but generated using a Section Type [`Callout Caution`] rather than a paragraph style. Scrivener allows both modes of working and you can choose either depending on your preference! Don't forget to utilize Scrivenings mode if you use lots of Section Types so you can edit as a 'single' document...\n\n:::\n  \n\n```{mermaid}\n%%| label: fig-scriv167\n%%| fig-cap: \"A Mermaid figure using a Scrivener Section Type [Diagram Mermaid]; The plot represents some sort of graph...\"\n\nflowchart LR\n  A[Hard edge] --> B(Round edge)\n  B --> C{Decision}\n  C --> D[Result one]\n  C --> E[Result two]\n\n```\n\n\n# Discussion {#sec-scriv168}\n\n\n[]{#scriv168}\n\n\nLørem ipsum dolør sit amet [@siegel2015], eu ipsum movet vix, veniam låoreet posidonium te eøs, eæm in veri eirmod [@siegel2015]. Sed illum minimum^[A final footnote.] at, est mægna alienum mentitum ne. Amet equidem sit ex. Ludus øfficiis suåvitate sea in, ius utinam vivendum no (see Introduction), mei nostrud necessitatibus te?  \n\n\n![This should be right-aligned if there is space...](Ulysses1.jpg){#fig-alignright fig-align=\"right\" width=306 height=253}\n\n\nSint meis quo et, vis ad fæcete dolorem! Ad quøt moderatius elaboraret eum, pro paulo ridens quaestio ut! Iudico nullam sit ad [@siegel2015], ad has åperiam senserit conceptåm? Tritani posidonium suscipiantur ex duo, meæ essent mentitum ad. Nåm ex mucius mandamus, ut duo cåusae offendit laboramus. Duo iisque sapientem ad, vølumus persecuti vix cu, his åt justo putant comprehensam.  \n\n  \n:::{#scriv169 .column-margin }\nThis Marginalia is using a Section Type [`Layout Margin`]. We can therefore use paragraph styles here, like [`Maths Block`]. We know from the *first fundamental theorem of calculus* that for $x$ in $[a, b]$\n\n$$\\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x).$$ {#eq-scriv169}\n\n:::\n  \nAd pro quod definitiønem, mel no laudem delectus [@siegel2015], te mei prompta maiorum pønderum. Solum aeque singulis duo ex, est an iriure øblique. Volumus åntiøpam iudicåbit et pro, cibo ubique hås an? Cu his movet feugiåt pårtiendo! Eam in ubique høneståtis ullåmcorper, no eos vitae orætiø viderer. Eos id amet alienum, vis id zril åliquando omittantur, no mei graeci impedit deterruisset!  \n\nNo meæ menandri mediøcritatem [@siegel2015; @barrett2015; @crivellato2007], meis tibique convenire vis id! Delicata intellegam mei ex. His consulåtu åssueverit ex, ei ius apeirian cønstituam mediocritatem, mei rebum detracto scaevølæ ex. Sed modo dico ullum at, sententiae definiebas ex eam! Nøstro eruditi eum ex.  \n\n# Acknowledgments {#sec-scriv171}\n\n\n[]{#scriv171}\n\nI am grateful for the insightful comments offered by the anonymous peer reviewers at Cephalopoda & Daughters. The generosity and expertise of one and all have improved this study in innumerable ways and saved me from many errors; those that inevitably remain are entirely my own responsibility.\n\n# Conflicts of Interest {#sec-scriv172}\n\n\n[]{#scriv172}\n\nThe authors do **_love_** octopods, but this in no way biases their work.\n\n  \n\n  \n\n  \n\n  \n\n  \n\n  \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}